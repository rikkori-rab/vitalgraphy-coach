# ë°”ì´íƒˆê·¸ë¼í”¼ ìƒê¸°ì½”ì¹˜ - ëŒ€í™”í˜• ë¬¸ì§„ ì‹œìŠ¤í…œ

> 1ë¶„ ë¬¸ì§„ìœ¼ë¡œ ê³ ê°ì—ê²Œ ë”± ë§ëŠ” ê±´ê°•ê¸°ëŠ¥ì‹í’ˆ ë£¨í‹´ì„ ì¶”ì²œí•˜ëŠ” ì‹¤ìš©ì ì¸ ì›°ë‹ˆìŠ¤ ì½”ì¹˜ ì•±

## ğŸ¯ ì£¼ìš” ê¸°ëŠ¥

### âœ¨ í•µì‹¬ ê¸°ëŠ¥
- **ëŒ€í™”í˜• ë¬¸ì§„ ì¸í„°í˜ì´ìŠ¤**: 5ë‹¨ê³„ ë¬¸ì§„ìœ¼ë¡œ ê³ ê° ë‹ˆì¦ˆ ì •í™•íˆ íŒŒì•…
- **AI ê¸°ë°˜ ë§ì¶¤ ì¶”ì²œ**: ìƒí™œ íŒ¨í„´ ë¶„ì„ì„ í†µí•œ ê°œì¸í™”ëœ ë£¨í‹´ ì œì•ˆ
- **ì‹¤ì‹œê°„ ì¹´í˜24 ì—°ë™**: ì œí’ˆ ì •ë³´, ì¬ê³ , ê°€ê²© ì‹¤ì‹œê°„ ë™ê¸°í™”
- **CRM ë°ì´í„° ì „ì†¡**: ê³ ê° ë°ì´í„°ë¥¼ CRM ì‹œìŠ¤í…œì— ìë™ ì „ì†¡
- **ë¦¬í•„ ì•Œë¦¼ ì‹œìŠ¤í…œ**: ì†Œì§„ ì˜ˆì •ì¼ ê¸°ë°˜ ìë™ ì•Œë¦¼
- **PWA ì§€ì›**: ì•±ì²˜ëŸ¼ ì„¤ì¹˜í•˜ì—¬ ì˜¤í”„ë¼ì¸ì—ì„œë„ ì‚¬ìš© ê°€ëŠ¥

### ğŸ“Š ê°œì¸í™” & CRM
- **ì„¸ì…˜ ê´€ë¦¬**: ê³ ìœ  ì„¸ì…˜ IDë¡œ ê³ ê° ì—¬ì • ì¶”ì 
- **ë°ì´í„° ìë™ ì €ì¥**: 30ì´ˆë§ˆë‹¤ ìë™ìœ¼ë¡œ ì„œë²„ì— ë™ê¸°í™”
- **ë§ˆì¼€íŒ… ë™ì˜ ê´€ë¦¬**: ì±„ë„ë³„(ì¹´ì¹´ì˜¤í†¡/SMS/ì´ë©”ì¼) ë™ì˜ ìˆ˜ì§‘
- **ë¶„ì„ í†µí•©**: Google Analytics, ì¹´ì¹´ì˜¤ í”½ì…€, í˜ì´ìŠ¤ë¶ í”½ì…€ ì§€ì›

### ğŸ›’ ì „ììƒê±°ë˜ í†µí•©
- **ì›í´ë¦­ ì¥ë°”êµ¬ë‹ˆ ì¶”ê°€**: ì¶”ì²œ ì œí’ˆì„ ë°”ë¡œ ì¥ë°”êµ¬ë‹ˆì— ì¶”ê°€
- **ì‹¤ì‹œê°„ ì¬ê³  í™•ì¸**: ì¹´í˜24 APIë¡œ ì¬ê³  ìƒíƒœ ì‹¤ì‹œê°„ í™•ì¸
- **ìë™ íšŒì› ì—°ë™**: ë¬¸ì§„ ê²°ê³¼ì™€ í•¨ê»˜ íšŒì› ì •ë³´ ìë™ ìƒì„±

## ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
/home/user/webapp/
â”œâ”€â”€ index.html              # ë©”ì¸ HTML (ì—…ê·¸ë ˆì´ë“œë¨)
â”œâ”€â”€ manifest.json           # PWA Manifest
â”œâ”€â”€ sw.js                   # Service Worker
â”œâ”€â”€ css/
â”‚   â””â”€â”€ styles.css          # ì „ì²´ ìŠ¤íƒ€ì¼ì‹œíŠ¸
â”œâ”€â”€ js/
â”‚   â”œâ”€â”€ config.js           # ì„¤ì • íŒŒì¼
â”‚   â”œâ”€â”€ utils.js            # ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜
â”‚   â”œâ”€â”€ data-manager.js     # ë°ì´í„° ê´€ë¦¬
â”‚   â”œâ”€â”€ cafe24-api.js       # ì¹´í˜24 API ì—°ë™
â”‚   â”œâ”€â”€ recommendation-engine.js  # ì¶”ì²œ ì—”ì§„
â”‚   â””â”€â”€ app.js              # ë©”ì¸ ì•± ë¡œì§
â””â”€â”€ assets/
    â””â”€â”€ icons/              # PWA ì•„ì´ì½˜
```

## ğŸš€ ë¹ ë¥¸ ì‹œì‘

### 1. ì„¤ì • íŒŒì¼ ìˆ˜ì •

`/js/config.js` íŒŒì¼ì„ ì—´ê³  ë‹¤ìŒ í•­ëª©ì„ ìˆ˜ì •í•˜ì„¸ìš”:

```javascript
const CONFIG = {
  cafe24: {
    mallId: 'vitalgraphi',  // ì‹¤ì œ ì‡¼í•‘ëª° IDë¡œ ë³€ê²½
    apiUrl: 'https://vitalgraphi.cafe24api.com/api/v2',
    clientId: 'YOUR_CLIENT_ID',  // ì¹´í˜24 ì•± í´ë¼ì´ì–¸íŠ¸ ID
    clientSecret: 'YOUR_CLIENT_SECRET',
    accessToken: 'YOUR_ACCESS_TOKEN',  // API ì•¡ì„¸ìŠ¤ í† í°
  },

  backend: {
    apiUrl: 'https://api.vitalgraphi.com',  // ë°±ì—”ë“œ API URL
  },

  products: {
    // ì œí’ˆ ì½”ë“œë¥¼ ì‹¤ì œ ì¹´í˜24 ì œí’ˆ ì½”ë“œë¡œ ë³€ê²½
    'quercetin': {
      id: 'P0000001',  // ì‹¤ì œ ì œí’ˆ ì½”ë“œ
      // ...
    },
  },

  analytics: {
    googleAnalytics: 'G-XXXXXXXXXX',  // GA4 ì¸¡ì • ID
    kakaoPixel: 'XXXXXXXXXX',  // ì¹´ì¹´ì˜¤ í”½ì…€ ID
  },
};
```

### 2. ë¡œì»¬ í…ŒìŠ¤íŠ¸

```bash
# ê°„ë‹¨í•œ HTTP ì„œë²„ ì‹¤í–‰
cd /home/user/webapp
python3 -m http.server 8000

# ë˜ëŠ” Node.js ì‚¬ìš©
npx serve
```

ë¸Œë¼ìš°ì €ì—ì„œ `http://localhost:8000` ì ‘ì†

### 3. ì¹´í˜24 ìì‚¬ëª° ì—°ë™

#### ë°©ë²• A: íŒì—… í˜•íƒœ
ì¹´í˜24 ê´€ë¦¬ì > ë””ìì¸ > ìŠ¤ë§ˆíŠ¸ ë””ìì¸ í¸ì§‘ > HTML í¸ì§‘:

```html
<!-- ë¬¸ì§„ ì‹œì‘ ë²„íŠ¼ ì¶”ê°€ -->
<button onclick="openWellnessCoach()">
  ğŸŒ¿ ë‚˜ì—ê²Œ ë§ëŠ” ë£¨í‹´ ì°¾ê¸°
</button>

<script>
function openWellnessCoach() {
  window.open(
    'https://your-domain.com/wellness-coach',
    'wellness-coach',
    'width=420,height=844,scrollbars=no'
  );
}
</script>
```

#### ë°©ë²• B: iframe ì‚½ì…
```html
<iframe
  src="https://your-domain.com/wellness-coach"
  width="100%"
  height="844px"
  frameborder="0"
  style="max-width: 420px; margin: 0 auto; display: block;"
></iframe>
```

#### ë°©ë²• C: ë…ë¦½ í˜ì´ì§€
1. ì¹´í˜24 ê´€ë¦¬ì > ì‡¼í•‘ëª° ì„¤ì • > ê²Œì‹œíŒ ê´€ë¦¬
2. ê²Œì‹œíŒ ì¶”ê°€ > URL íƒ€ì… ì„ íƒ
3. ì™¸ë¶€ URLì— `https://your-domain.com/wellness-coach` ì…ë ¥

## ğŸ”§ ì¹´í˜24 API ì„¤ì •

### 1. ì•± ë“±ë¡
1. [ì¹´í˜24 ê°œë°œìì„¼í„°](https://developers.cafe24.com) ì ‘ì†
2. ë‚´ ì•± ë“±ë¡ > ìƒˆ ì•± ë§Œë“¤ê¸°
3. ê¶Œí•œ ì„ íƒ:
   - `mall.read_product` (ì œí’ˆ ì¡°íšŒ)
   - `mall.write_order` (ì£¼ë¬¸ ìƒì„±)
   - `mall.read_customer` (íšŒì› ì¡°íšŒ)
   - `mall.write_customer` (íšŒì› ìƒì„±/ìˆ˜ì •)

### 2. OAuth ì¸ì¦
```javascript
// ì¸ì¦ URL ìƒì„±
const authUrl = cafe24API.getOAuthURL(
  'https://your-domain.com/callback',
  'random-state-string'
);

// ì‚¬ìš©ìë¥¼ authUrlë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸
window.location.href = authUrl;

// ì½œë°±ì—ì„œ í† í° êµí™˜
const result = await cafe24API.exchangeOAuthToken(code, redirectUri);
if (result.success) {
  console.log('Access Token:', result.data.access_token);
}
```

## ğŸ“¡ ë°±ì—”ë“œ API ì—°ë™

ë¬¸ì§„ ë°ì´í„°ë¥¼ ì €ì¥í•˜ê³  CRMê³¼ ì—°ë™í•˜ê¸° ìœ„í•´ ë°±ì—”ë“œ APIê°€ í•„ìš”í•©ë‹ˆë‹¤.

### í•„ìˆ˜ ì—”ë“œí¬ì¸íŠ¸

#### 1. ë¬¸ì§„ ë°ì´í„° ì €ì¥
```
POST /api/consultations
Content-Type: application/json

{
  "sessionId": "uuid",
  "customerId": "customer-id",
  "consultationData": {
    "goal": "freshness",
    "lifestyle": {...},
    "preferences": {...},
    "recommendation": {...}
  }
}
```

#### 2. ê³ ê° ì •ë³´ ì €ì¥
```
POST /api/customers
Content-Type: application/json

{
  "sessionId": "uuid",
  "customerData": {
    "email": "customer@example.com",
    "marketingConsent": true,
    "marketingChannel": "kakao"
  }
}
```

#### 3. CRM ë°ì´í„° ì „ì†¡
```
POST /api/crm/send
Content-Type: application/json

{
  "sessionId": "uuid",
  "customer": {...},
  "consultation": {...},
  "timestamp": "2024-01-01T00:00:00Z"
}
```

### ë°±ì—”ë“œ êµ¬í˜„ ì˜ˆì‹œ (Node.js + Express)

```javascript
const express = require('express');
const app = express();

app.use(express.json());

// ë¬¸ì§„ ì €ì¥
app.post('/api/consultations', async (req, res) => {
  const { sessionId, customerId, consultationData } = req.body;
  
  // ë°ì´í„°ë² ì´ìŠ¤ì— ì €ì¥
  await db.consultations.insert({
    sessionId,
    customerId,
    data: consultationData,
    createdAt: new Date(),
  });
  
  res.json({ success: true });
});

// ê³ ê° ì •ë³´ ì €ì¥
app.post('/api/customers', async (req, res) => {
  const { sessionId, customerData } = req.body;
  
  // ë°ì´í„°ë² ì´ìŠ¤ì— ì €ì¥ ë˜ëŠ” ì—…ë°ì´íŠ¸
  await db.customers.upsert({
    sessionId,
    ...customerData,
    updatedAt: new Date(),
  });
  
  res.json({ success: true });
});

// CRM ì „ì†¡
app.post('/api/crm/send', async (req, res) => {
  const { customer, consultation } = req.body;
  
  // CRM ì‹œìŠ¤í…œì— ì „ì†¡ (ì˜ˆ: Salesforce, HubSpot)
  await crmClient.createOrUpdateLead({
    email: customer.email,
    source: 'wellness_coach',
    customFields: {
      goal: consultation.goal,
      lifestyle: JSON.stringify(consultation.lifestyle),
    },
  });
  
  res.json({ success: true });
});

app.listen(3000);
```

## ğŸ“Š ë¶„ì„ ë„êµ¬ ì„¤ì •

### Google Analytics 4

1. `config.js`ì— ì¸¡ì • ID ì…ë ¥:
```javascript
analytics: {
  googleAnalytics: 'G-XXXXXXXXXX',
}
```

2. `index.html`ì—ì„œ ì£¼ì„ í•´ì œ:
```html
<!-- Google Analytics (ì˜µì…˜) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-XXXXXXXXXX"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-XXXXXXXXXX');
</script>
```

### ì¹´ì¹´ì˜¤ í”½ì…€

1. í”½ì…€ ID ì„¤ì •
2. `index.html`ì—ì„œ ì£¼ì„ í•´ì œ

## ğŸ”” ë¦¬í•„ ì•Œë¦¼ ì‹œìŠ¤í…œ

### ì¹´ì¹´ì˜¤ ì•Œë¦¼í†¡ ì—°ë™

```javascript
// config.js
notifications: {
  kakao: {
    enabled: true,
    templateId: 'YOUR_TEMPLATE_ID',
  },
}
```

### ë°±ì—”ë“œì—ì„œ ìŠ¤ì¼€ì¤„ë§

```javascript
const cron = require('node-cron');

// ë§¤ì¼ ì˜¤ì „ 10ì‹œì— ë¦¬í•„ ì•Œë¦¼ ì²´í¬
cron.schedule('0 10 * * *', async () => {
  const customers = await db.customers.find({
    nextRefillDate: {
      $lte: new Date(Date.now() + 3 * 24 * 60 * 60 * 1000) // 3ì¼ ì´ë‚´
    }
  });

  for (const customer of customers) {
    // ì¹´ì¹´ì˜¤ ì•Œë¦¼í†¡ ë°œì†¡
    await sendKakaoNotification(customer);
  }
});
```

## ğŸ“± PWA ì„¤ì¹˜

### ì•„ì´ì½˜ ì¤€ë¹„
`/assets/icons/` í´ë”ì— ë‹¤ìŒ í¬ê¸°ì˜ ì•„ì´ì½˜ ì¶”ê°€:
- 72x72, 96x96, 128x128, 144x144, 152x152, 192x192, 384x384, 512x512

### HTTPS í•„ìˆ˜
PWAëŠ” HTTPS í™˜ê²½ì—ì„œë§Œ ì‘ë™í•©ë‹ˆë‹¤.

### ì„¤ì¹˜ í”„ë¡¬í”„íŠ¸
ì‚¬ìš©ìê°€ ì—¬ëŸ¬ ë²ˆ ë°©ë¬¸í•˜ë©´ ìë™ìœ¼ë¡œ ì„¤ì¹˜ í”„ë¡¬í”„íŠ¸ê°€ í‘œì‹œë©ë‹ˆë‹¤.

## ğŸ¨ ì»¤ìŠ¤í„°ë§ˆì´ì§•

### ìƒ‰ìƒ ë³€ê²½
`css/styles.css`ì—ì„œ ì£¼ìš” ìƒ‰ìƒ ë³€ê²½:

```css
.chat-header {
  background: #111111; /* ë¸Œëœë“œ ì»¬ëŸ¬ë¡œ ë³€ê²½ */
}

.cta-primary {
  background: #111111; /* ë¸Œëœë“œ ì»¬ëŸ¬ë¡œ ë³€ê²½ */
}
```

### ì œí’ˆ ì¶”ê°€
`js/config.js`ì˜ `products` ê°ì²´ì— ì œí’ˆ ì¶”ê°€:

```javascript
products: {
  'new-product': {
    id: 'P0000006',
    name: 'ìƒˆë¡œìš´ ì œí’ˆ',
    description: 'ì œí’ˆ ì„¤ëª…',
    price: 40000,
    dosagePerDay: 1,
    packSize: 30,
    category: 'wellness',
  },
}
```

### ì¶”ì²œ ë¡œì§ ìˆ˜ì •
`js/recommendation-engine.js`ì˜ `getBaseProducts()` ë° `getLifestyleProducts()` ë©”ì„œë“œ ìˆ˜ì •

## ğŸ§ª í…ŒìŠ¤íŠ¸

### ë¡œì»¬ í…ŒìŠ¤íŠ¸
1. ëª¨ë“  ìŠ¤í¬ë¦°ì„ ìˆœì„œëŒ€ë¡œ í…ŒìŠ¤íŠ¸
2. ë¸Œë¼ìš°ì € ê°œë°œì ë„êµ¬ > Consoleì—ì„œ ì—ëŸ¬ í™•ì¸
3. ë„¤íŠ¸ì›Œí¬ íƒ­ì—ì„œ API í˜¸ì¶œ í™•ì¸

### ëª¨ë°”ì¼ í…ŒìŠ¤íŠ¸
1. Chrome ê°œë°œì ë„êµ¬ > ë””ë°”ì´ìŠ¤ íˆ´ë°” í™œì„±í™”
2. iPhone SE, iPhone 12 Pro, Galaxy S20 ë“± í…ŒìŠ¤íŠ¸

### ì˜¤í”„ë¼ì¸ í…ŒìŠ¤íŠ¸
1. ê°œë°œì ë„êµ¬ > Application > Service Workers
2. "Offline" ì²´í¬ë°•ìŠ¤ í™œì„±í™”
3. ì˜¤í”„ë¼ì¸ ëª¨ë“œì—ì„œë„ ì‘ë™í•˜ëŠ”ì§€ í™•ì¸

## ğŸš€ ë°°í¬

### Netlify / Vercel
```bash
# Netlify
netlify deploy --prod

# Vercel
vercel --prod
```

### ì¹´í˜24 í˜¸ìŠ¤íŒ…
1. FTPë¡œ `/home/user/webapp/` íŒŒì¼ ëª¨ë‘ ì—…ë¡œë“œ
2. ì¹´í˜24 ì„¤ì •ì—ì„œ ë„ë©”ì¸ ì—°ê²°

### CDN ìµœì í™”
- ì´ë¯¸ì§€ë¥¼ WebP í¬ë§·ìœ¼ë¡œ ë³€í™˜
- JavaScriptë¥¼ ì••ì¶• (Minify)
- Gzip ì••ì¶• í™œì„±í™”

## ğŸ“ˆ ì„±ê³¼ ì¸¡ì •

### ì£¼ìš” ì§€í‘œ
- **ì™„ë£Œìœ¨**: ë¬¸ì§„ì„ ì™„ë£Œí•œ ì‚¬ìš©ì ë¹„ìœ¨
- **ì „í™˜ìœ¨**: ì¥ë°”êµ¬ë‹ˆ ì¶”ê°€ / íšŒì›ê°€ì… ë¹„ìœ¨
- **í‰ê·  ì„¸ì…˜ ì‹œê°„**: ì‚¬ìš©ìê°€ ì•±ì—ì„œ ë³´ë‚¸ ì‹œê°„
- **ë¦¬í•„ ì•Œë¦¼ ìˆ˜ì‹ ìœ¨**: ì•Œë¦¼ì„ ìˆ˜ì‹ í•œ ê³ ê° ë¹„ìœ¨

### Google Analytics ì´ë²¤íŠ¸
- `session_start`: ì„¸ì…˜ ì‹œì‘
- `goal_selected`: ëª©í‘œ ì„ íƒ
- `consultation_completed`: ë¬¸ì§„ ì™„ë£Œ
- `add_to_cart`: ì¥ë°”êµ¬ë‹ˆ ì¶”ê°€
- `marketing_consent`: ë§ˆì¼€íŒ… ë™ì˜

## ğŸ”’ ë³´ì•ˆ

### í™˜ê²½ ë³€ìˆ˜
ë¯¼ê°í•œ ì •ë³´ëŠ” í™˜ê²½ ë³€ìˆ˜ë¡œ ê´€ë¦¬:

```html
<!-- index.html -->
<script>
  window.ENV_CONFIG = {
    cafe24: {
      clientId: '<%= ENV['CAFE24_CLIENT_ID'] %>',
      clientSecret: '<%= ENV['CAFE24_CLIENT_SECRET'] %>',
    }
  };
</script>
```

### CORS ì„¤ì •
ë°±ì—”ë“œ APIì—ì„œ CORS í—¤ë” ì„¤ì •:

```javascript
app.use((req, res, next) => {
  res.header('Access-Control-Allow-Origin', 'https://vitalgraphi.com');
  res.header('Access-Control-Allow-Methods', 'GET, POST, PUT, DELETE');
  res.header('Access-Control-Allow-Headers', 'Content-Type, Authorization');
  next();
});
```

## ğŸ› ë¬¸ì œ í•´ê²°

### Service Workerê°€ ë“±ë¡ë˜ì§€ ì•ŠìŒ
- HTTPS í™˜ê²½ì¸ì§€ í™•ì¸
- `sw.js` íŒŒì¼ ê²½ë¡œ í™•ì¸
- ë¸Œë¼ìš°ì € ìºì‹œ í´ë¦¬ì–´

### ì¹´í˜24 API í˜¸ì¶œ ì‹¤íŒ¨
- Access Tokenì´ ìœ íš¨í•œì§€ í™•ì¸
- API ê¶Œí•œì´ ì˜¬ë°”ë¥¸ì§€ í™•ì¸
- CORS ì„¤ì • í™•ì¸

### ë°ì´í„°ê°€ ì €ì¥ë˜ì§€ ì•ŠìŒ
- LocalStorageê°€ í™œì„±í™”ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸
- ë°±ì—”ë“œ API ì—”ë“œí¬ì¸íŠ¸ í™•ì¸
- ë„¤íŠ¸ì›Œí¬ ì—°ê²° ìƒíƒœ í™•ì¸

## ğŸ“ ì§€ì›

ë¬¸ì˜ì‚¬í•­ì´ë‚˜ ë²„ê·¸ ë¦¬í¬íŠ¸:
- ì´ë©”ì¼: support@vitalgraphi.com
- GitHub Issues: (ì €ì¥ì†Œ ë§í¬)

## ğŸ“„ ë¼ì´ì„ ìŠ¤

Proprietary - ë°”ì´íƒˆê·¸ë¼í”¼ ì „ìš©

---

**ë°”ì´íƒˆê·¸ë¼í”¼ ìƒê¸°ì½”ì¹˜** - ê³ ê°ì˜ ê±´ê°•ì„ ìœ„í•œ ì²«ê±¸ìŒ ğŸŒ¿
